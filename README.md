# TEST_LLM - –°–∏—Å—Ç–µ–º–∞ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞ –æ—Ç–≤–µ—Ç–æ–≤ AI

---

## üéØ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç –¥–ª—è –Ω–æ–≤–∏—á–∫–æ–≤

### –ß—Ç–æ –Ω—É–∂–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å:

1. **Python 3.8+** - —è–∑—ã–∫ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è
2. **Docker Desktop** - –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
3. **Ollama** - –ø—Ä–æ–≥—Ä–∞–º–º–∞ –¥–ª—è –∑–∞–ø—É—Å–∫–∞ AI –º–æ–¥–µ–ª–µ–π

---

## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞ 5 –º–∏–Ω—É—Ç

### –®–∞–≥ 1: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Ollama (AI –º–æ–¥–µ–ª—å)

**Windows/Mac:**
- –°–∫–∞—á–∞–π—Ç–µ —Å https://ollama.com/download
- –ó–∞–ø—É—Å—Ç–∏—Ç–µ —É—Å—Ç–∞–Ω–æ–≤—â–∏–∫
- –í—Å—ë! Ollama —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞

**Linux:**
```bash
curl -fsSL https://ollama.com/install.sh | sh
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
```bash
ollama --version
# –î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å –≤–µ—Ä—Å–∏—é, –Ω–∞–ø—Ä–∏–º–µ—Ä: ollama version is 0.1.17
```

---

### –®–∞–≥ 2: –°–∫–∞—á–∞–π—Ç–µ AI –º–æ–¥–µ–ª—å

> **–í–∞–∂–Ω–æ:** –ú–æ–¥–µ–ª—å - —ç—Ç–æ "–º–æ–∑–≥" AI. –ú—ã —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º `qwen2.5:7b` - –æ–Ω–∞ –ª—É—á—à–µ –≤—Å–µ—Ö –ø–æ–Ω–∏–º–∞–µ—Ç —Ä—É—Å—Å–∫–∏–π —è–∑—ã–∫.

```bash
# –°–∫–∞—á–∞—Ç—å –º–æ–¥–µ–ª—å (–∑–∞–π–º–µ—Ç ~5 –º–∏–Ω—É—Ç, —Ä–∞–∑–º–µ—Ä 4.7GB)
ollama pull qwen2.5:7b

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –º–æ–¥–µ–ª—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞
ollama list

# –î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å:
# NAME           SIZE     MODIFIED
# qwen2.5:7b     4.7 GB   2 minutes ago
```

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã –µ—Å–ª–∏ –º–∞–ª–æ –º–µ—Å—Ç–∞:**
- `gemma2:2b` - –º–∞–ª–µ–Ω—å–∫–∞—è (1.6GB), –Ω–æ –∫–∞—á–µ—Å—Ç–≤–æ —Ö—É–∂–µ
- `gemma2:9b` - –±–æ–ª—å—à–∞—è (5.4GB), –∫–∞—á–µ—Å—Ç–≤–æ –æ—Ç–ª–∏—á–Ω–æ–µ

---

### –®–∞–≥ 3: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Python –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

```bash
# –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –ø–∞–ø–∫—É –ø—Ä–æ–µ–∫—Ç–∞
cd C:\PSB_Projects\test_LLM

# –°–æ–∑–¥–∞–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ (–∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å—Ä–µ–¥–∞)
python -m venv venv

# –ê–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –µ–≥–æ
venv\Scripts\activate  # Windows
source venv/bin/activate  # Linux/Mac

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏
pip install -r requirements.txt
```

**–ß—Ç–æ —Ç–∞–∫–æ–µ venv?** –≠—Ç–æ –æ—Ç–¥–µ–ª—å–Ω–∞—è –ø–∞–ø–∫–∞ —Å Python, —á—Ç–æ–±—ã –Ω–µ –∑–∞—Å–æ—Ä—è—Ç—å —Å–∏—Å—Ç–µ–º—É.

---

### –®–∞–≥ 4: –ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö (Elasticsearch)

> **–ß—Ç–æ —Ç–∞–∫–æ–µ Elasticsearch?** –≠—Ç–æ –ø–æ–∏—Å–∫–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞ –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ö.

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å Elasticsearch –≤ Docker
docker-compose up -d elasticsearch

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç (–ø–æ–¥–æ–∂–¥–∏—Ç–µ 30 —Å–µ–∫—É–Ω–¥)
curl http://localhost:9200

# –î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å JSON —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ Elasticsearch
```

**–ï—Å–ª–∏ Docker –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω:**
- Windows/Mac: https://www.docker.com/products/docker-desktop
- Linux: `sudo apt install docker.io docker-compose`

---

### –®–∞–≥ 5: –ó–∞–≥—Ä—É–∑–∏—Ç–µ –≤–∞—à–∏ –¥–æ–∫—É–º–µ–Ω—Ç—ã

```bash
# –ü–æ–ª–æ–∂–∏—Ç–µ .txt –∏–ª–∏ .md —Ñ–∞–π–ª—ã –≤ –ø–∞–ø–∫—É
# C:\PSB_Projects\test_LLM\data\documents\

# –ó–∞–≥—Ä—É–∑–∏—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã –≤ Elasticsearch
python load_to_elasticsearch.py
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```
‚úÖ –ó–∞–≥—Ä—É–∂–µ–Ω–æ: 4 –¥–æ–∫—É–º–µ–Ω—Ç–∞
‚úÖ –°–æ–∑–¥–∞–Ω–æ: 251 chunks (–∫—É—Å–æ—á–∫–æ–≤)
‚úÖ –†–∞–∑–º–µ—Ä –±–∞–∑—ã: 0.28 MB
```

**–ß—Ç–æ —Ç–∞–∫–æ–µ chunks?** –î–æ–∫—É–º–µ–Ω—Ç—ã —Ä–∞–∑–±–∏–≤–∞—é—Ç—Å—è –Ω–∞ –º–∞–ª–µ–Ω—å–∫–∏–µ –∫—É—Å–æ—á–∫–∏ (~500 —Å–∏–º–≤–æ–ª–æ–≤), —á—Ç–æ–±—ã AI –ª–µ–≥—á–µ –∏—Å–∫–∞–ª –Ω—É–∂–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é.

---

### –®–∞–≥ 6: –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ç–µ—Å—Ç!

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç —Å 5 –≤–æ–ø—Ä–æ—Å–∞–º–∏
python main.py --max-questions 5
```

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**
1. –ü—Ä–æ–≥—Ä–∞–º–º–∞ –∏—â–µ—Ç –≤–æ–ø—Ä–æ—Å—ã –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ö (–∏–ª–∏ —Å–æ–∑–¥–∞–µ—Ç —Å–ª—É—á–∞–π–Ω—ã–µ)
2. –ó–∞–¥–∞–µ—Ç –∏—Ö AI
3. –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –æ—Ç–≤–µ—Ç—ã
4. –°–æ–∑–¥–∞–µ—Ç HTML –æ—Ç—á–µ—Ç

**–†–µ–∑—É–ª—å—Ç–∞—Ç —á–µ—Ä–µ–∑ 5-10 –º–∏–Ω—É—Ç:**
```
‚úÖ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–æ!
–ü—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤: 4/5 (80%)
–û—Ç—á–µ—Ç: data/reports/report_hyde_20251222_173841.html
```

–û—Ç–∫—Ä–æ–π—Ç–µ –æ—Ç—á–µ—Ç –≤ –±—Ä–∞—É–∑–µ—Ä–µ!

---

## üéì –ü—Ä–æ—Å—Ç–æ–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ –∫–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç RAG

**RAG = Retrieval-Augmented Generation**

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ 1. –í–û–ü–†–û–°                                            ‚îÇ
‚îÇ    "–ß—Ç–æ —Ç–∞–∫–æ–µ 3D-Secure?"                           ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                ‚îÇ
                ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ 2. –ü–û–ò–°–ö –í –î–û–ö–£–ú–ï–ù–¢–ê–• (Retrieval)                   ‚îÇ
‚îÇ    –ò—â–µ–º –ø–æ—Ö–æ–∂–∏–µ –∫—É—Å–∫–∏ —Ç–µ–∫—Å—Ç–∞ –≤ –±–∞–∑–µ                ‚îÇ
‚îÇ    –ù–∞–π–¥–µ–Ω–æ:                                          ‚îÇ
‚îÇ    - "3D-Secure - —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—è –∑–∞—â–∏—Ç—ã..." (95% —Å—Ö–æ–∂–µ—Å—Ç—å)‚îÇ
‚îÇ    - "–ü—Ä–∏ –æ–ø–ª–∞—Ç–µ –≤–≤–æ–¥–∏—Ç–µ –∫–æ–¥ –∏–∑ SMS..." (87%)       ‚îÇ
‚îÇ    - "–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –ø–ª–∞—Ç–µ–∂–µ–π..." (75%)               ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                ‚îÇ
                ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ 3. AI –ì–ï–ù–ï–†–ê–¶–ò–Ø –û–¢–í–ï–¢–ê (Generation)                 ‚îÇ
‚îÇ    AI —á–∏—Ç–∞–µ—Ç –Ω–∞–π–¥–µ–Ω–Ω—ã–µ –∫—É—Å–∫–∏ –∏ –æ—Ç–≤–µ—á–∞–µ—Ç:            ‚îÇ
‚îÇ    "3D-Secure - —ç—Ç–æ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏         ‚îÇ
‚îÇ     –¥–ª—è –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–ø–ª–∞—Ç–µ–∂–µ–π. –ü—Ä–∏ –æ–ø–ª–∞—Ç–µ –±–∞–Ω–∫          ‚îÇ
‚îÇ     –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –≤–∞–º –∫–æ–¥ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –ø–æ SMS..."     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                ‚îÇ
                ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ 4. –ü–†–û–í–ï–†–ö–ê –ö–ê–ß–ï–°–¢–í–ê                                ‚îÇ
‚îÇ    –°—Ä–∞–≤–Ω–∏–≤–∞–µ–º –æ—Ç–≤–µ—Ç AI —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º –æ—Ç–≤–µ—Ç–æ–º         ‚îÇ
‚îÇ    –°—Ö–æ–∂–µ—Å—Ç—å: 92% ‚úÖ (–±–æ–ª—å—à–µ 60% = –ø—Ä–∞–≤–∏–ª—å–Ω–æ)        ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

### –û—Å–Ω–æ–≤–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:

```bash
# –£–∫–∞–∑–∞—Ç—å –º–æ–¥–µ–ª—å
python main.py --model qwen2.5:7b

# –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–æ–ø—Ä–æ—Å–æ–≤
python main.py --max-questions 10

# –°–∫–æ–ª—å–∫–æ –∫—É—Å–∫–æ–≤ —Ç–µ–∫—Å—Ç–∞ –∏—Å–∫–∞—Ç—å
python main.py --top-k 5

# –ü–æ—Ä–æ–≥ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç–∏ (60% = –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç)
python main.py --threshold 0.60
```

### –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:

```bash
# –û—Ç–∫–ª—é—á–∏—Ç—å HyDE (—É—Å–∫–æ—Ä–∏—Ç, –Ω–æ —Ö—É–∂–µ –∫–∞—á–µ—Å—Ç–≤–æ)
python main.py --no-hyde

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª–æ–∫–∞–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã (–±–µ–∑ Elasticsearch)
python main.py --local-files

# –í–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã (–≤—Å–µ–≥–¥–∞ –æ–¥–Ω–∏ –∏ —Ç–µ –∂–µ –≤–æ–ø—Ä–æ—Å—ã)
python main.py --seed 42
```

---

## üí° –ß—Ç–æ —Ç–∞–∫–æ–µ HyDE –∏ –∑–∞—á–µ–º –æ–Ω –Ω—É–∂–µ–Ω?

**HyDE = Hypothetical Document Embeddings**

### –ü—Ä–æ—Å—Ç–æ–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ:

**–ë–ï–ó HyDE:**
```
–í–æ–ø—Ä–æ—Å: "–ö–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å –∫–∞—Ä—Ç—É –≤ Apple Pay?"
        ‚Üì
–ü–æ–∏—Å–∫: "Apple Pay –∫–∞—Ä—Ç–∞ –¥–æ–±–∞–≤–∏—Ç—å"
        ‚Üì
–ù–∞—Ö–æ–¥–∏—Ç: –¥–æ–∫—É–º–µ–Ω—Ç—ã —Å —ç—Ç–∏–º–∏ —Å–ª–æ–≤–∞–º–∏
```

**–° HyDE:**
```
–í–æ–ø—Ä–æ—Å: "–ö–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å –∫–∞—Ä—Ç—É –≤ Apple Pay?"
        ‚Üì
AI –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç: "–û—Ç–∫—Ä–æ–π—Ç–µ Wallet, –Ω–∞–∂–º–∏—Ç–µ +, 
                –æ—Ç—Å–∫–∞–Ω–∏—Ä—É–π—Ç–µ –∫–∞—Ä—Ç—É, –≤–≤–µ–¥–∏—Ç–µ –∫–æ–¥..."
        ‚Üì
–ü–æ–∏—Å–∫: –ü–æ —ç—Ç–æ–º—É —Ç–µ–∫—Å—Ç—É (–±–æ–ª—å—à–µ –¥–µ—Ç–∞–ª–µ–π!)
        ‚Üì
–ù–∞—Ö–æ–¥–∏—Ç: –±–æ–ª–µ–µ —Ç–æ—á–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã ‚úÖ
```

**–ò—Ç–æ–≥:** HyDE —É–ª—É—á—à–∞–µ—Ç –ø–æ–∏—Å–∫ –Ω–∞ 10-20%, –Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –º–µ–¥–ª–µ–Ω–Ω–µ–µ.

---

## üìä –ö–∞–∫—É—é –º–æ–¥–µ–ª—å –≤—ã–±—Ä–∞—Ç—å?

| –ú–æ–¥–µ–ª—å | –†–∞–∑–º–µ—Ä | –°–∫–æ—Ä–æ—Å—Ç—å | –ö–∞—á–µ—Å—Ç–≤–æ —Ä—É—Å—Å–∫–æ–≥–æ | –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è |
|--------|--------|----------|-------------------|--------------|
| **qwen2.5:7b** | 4.7GB | ‚ö°‚ö°‚ö° | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê | ‚úÖ **–õ—É—á—à–∏–π –≤—ã–±–æ—Ä!** |
| gemma2:9b | 5.4GB | ‚ö°‚ö° | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê | –ï—Å–ª–∏ –µ—Å—Ç—å 10GB RAM |
| gemma2:2b | 1.6GB | ‚ö°‚ö°‚ö°‚ö° | ‚≠ê‚≠ê‚≠ê | ‚ö†Ô∏è –°–ª–∞–±–∞—è, —á–∞—Å—Ç–æ –æ—à–∏–±–∞–µ—Ç—Å—è |
| llama3.1:8b | 4.7GB | ‚ö°‚ö°‚ö° | ‚≠ê‚≠ê‚≠ê | –î–ª—è –∞–Ω–≥–ª–∏–π—Å–∫–æ–≥–æ |

**–ù–∞—à–∞ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** `qwen2.5:7b` - –∏–¥–µ–∞–ª—å–Ω—ã–π –±–∞–ª–∞–Ω—Å!

---

## üêõ –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è

### ‚ùå –ü—Ä–æ–±–ª–µ–º–∞: "Ollama –Ω–µ –Ω–∞–π–¥–µ–Ω–∞"

**–ü—Ä–∏—á–∏–Ω–∞:** Ollama –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ –∏–ª–∏ –Ω–µ –∑–∞–ø—É—â–µ–Ω–∞.

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# 1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ –ª–∏ Ollama
ollama --version

# 2. –ï—Å–ª–∏ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ - —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å
# Windows/Mac: https://ollama.com/download

# 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç
curl http://localhost:11434/api/tags

# 4. –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç
python main.py
```

---

### ‚ùå –ü—Ä–æ–±–ª–µ–º–∞: "–ú–æ–¥–µ–ª—å qwen2.5:7b –Ω–µ –Ω–∞–π–¥–µ–Ω–∞"

**–ü—Ä–∏—á–∏–Ω–∞:** –ú–æ–¥–µ–ª—å –Ω–µ —Å–∫–∞—á–∞–Ω–∞.

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –°–∫–∞—á–∞—Ç—å –º–æ–¥–µ–ª—å
ollama pull qwen2.5:7b

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å
ollama list

# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç
python main.py
```

---

### ‚ùå –ü—Ä–æ–±–ª–µ–º–∞: AI –æ—Ç–≤–µ—á–∞–µ—Ç "–í –¥–æ–∫—É–º–µ–Ω—Ç–µ –Ω–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏", —Ö–æ—Ç—è –æ–Ω–∞ –µ—Å—Ç—å

**–ü—Ä–∏—á–∏–Ω–∞:** –ú–æ–¥–µ–ª—å `gemma2:2b` —Å–ª–∏—à–∫–æ–º —Å–ª–∞–±–∞—è –∏ –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç.

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–æ—Ä–º–∞–ª—å–Ω—É—é –º–æ–¥–µ–ª—å
ollama pull qwen2.5:7b
python main.py --model qwen2.5:7b
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- –° `gemma2:2b`: 30-40% –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤ ‚ùå
- –° `qwen2.5:7b`: 80-90% –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤ ‚úÖ

---

### ‚ùå –ü—Ä–æ–±–ª–µ–º–∞: "Connection refused" –∫ Elasticsearch

**–ü—Ä–∏—á–∏–Ω–∞:** Elasticsearch –Ω–µ –∑–∞–ø—É—â–µ–Ω.

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å Elasticsearch
docker-compose up -d elasticsearch

# –ü–æ–¥–æ–∂–¥–∞—Ç—å 30 —Å–µ–∫—É–Ω–¥
timeout /t 30

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å
curl http://localhost:9200

# –î–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑–∞—Ç—å JSON —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π
```

---

### ‚ùå –ü—Ä–æ–±–ª–µ–º–∞: –û—á–µ–Ω—å –º–µ–¥–ª–µ–Ω–Ω–æ (>10 –º–∏–Ω—É—Ç –Ω–∞ 5 –≤–æ–ø—Ä–æ—Å–æ–≤)

**–ü—Ä–∏—á–∏–Ω—ã:**
1. CPU –≤–º–µ—Å—Ç–æ GPU (–º–µ–¥–ª–µ–Ω–Ω–µ–µ –≤ 10 —Ä–∞–∑)
2. –ë–æ–ª—å—à–∞—è –º–æ–¥–µ–ª—å –Ω–∞ —Å–ª–∞–±–æ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ

**–†–µ—à–µ–Ω–∏–µ 1 - –õ–µ–≥–∫–∞—è –º–æ–¥–µ–ª—å:**
```bash
ollama pull gemma2:2b
python main.py --model gemma2:2b
```

**–†–µ—à–µ–Ω–∏–µ 2 - –û—Ç–∫–ª—é—á–∏—Ç—å HyDE:**
```bash
python main.py --no-hyde
# –£—Å–∫–æ—Ä–∏—Ç –≤ 1.5 —Ä–∞–∑–∞
```

**–†–µ—à–µ–Ω–∏–µ 3 - –ú–µ–Ω—å—à–µ –≤–æ–ø—Ä–æ—Å–æ–≤:**
```bash
python main.py --max-questions 3
```

---

### ‚ùå –ü—Ä–æ–±–ª–µ–º–∞: –ù–∏–∑–∫–∞—è —Ç–æ—á–Ω–æ—Å—Ç—å (<40%)

**–í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã –∏ —Ä–µ—à–µ–Ω–∏—è:**

**1. –°–ª–∞–±–∞—è –º–æ–¥–µ–ª—å:**
```bash
python main.py --model qwen2.5:7b
```

**2. –°–ª–∏—à–∫–æ–º –≤—ã—Å–æ–∫–∏–π –ø–æ—Ä–æ–≥:**
```bash
python main.py --threshold 0.50
# –°–Ω–∏–∑–∏–ª–∏ —Å 60% –¥–æ 50%
```

**3. –ú–∞–ª–æ chunks:**
```bash
python main.py --top-k 5
# –ò—â–µ–º –≤ 5 –∫—É—Å–∫–∞—Ö –≤–º–µ—Å—Ç–æ 3
```

**4. HyDE –≤—ã–∫–ª—é—á–µ–Ω:**
```bash
# HyDE –≤–∫–ª—é—á–µ–Ω –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, –Ω–æ –µ—Å–ª–∏ –≤—ã–∫–ª—é—á–∞–ª–∏:
python main.py  # –±–µ–∑ --no-hyde
```

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ (—á—Ç–æ –≥–¥–µ –ª–µ–∂–∏—Ç)

```
test_LLM/
‚îÇ
‚îú‚îÄ‚îÄ üìÑ main.py                    ‚Üê –ó–∞–ø—É—Å–∫–∞–µ—Ç–µ —ç—Ç–æ
‚îú‚îÄ‚îÄ üìÑ load_to_elasticsearch.py  ‚Üê –ó–∞–≥—Ä—É–∑–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
‚îú‚îÄ‚îÄ üìÑ requirements.txt           ‚Üê –°–ø–∏—Å–æ–∫ –±–∏–±–ª–∏–æ—Ç–µ–∫
‚îú‚îÄ‚îÄ üê≥ docker-compose.yaml        ‚Üê –ù–∞—Å—Ç—Ä–æ–π–∫–∏ Docker
‚îÇ
‚îú‚îÄ‚îÄ üìÅ data/
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ documents/             ‚Üê –ü–æ–ª–æ–∂–∏—Ç–µ —Å—é–¥–∞ –≤–∞—à–∏ .txt/.md —Ñ–∞–π–ª—ã
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ testsets/              ‚Üê –ò–∑–≤–ª–µ—á–µ–Ω–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
‚îÇ   ‚îî‚îÄ‚îÄ üìÅ reports/               ‚Üê HTML –æ—Ç—á–µ—Ç—ã (–æ—Ç–∫—Ä—ã–≤–∞–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ)
‚îÇ
‚îú‚îÄ‚îÄ üìÅ package/                   ‚Üê –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–¥ –ø—Ä–æ–≥—Ä–∞–º–º—ã
‚îÇ   ‚îú‚îÄ‚îÄ cli.py                    ‚Üê –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ evaluator.py              ‚Üê –ì–ª–∞–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ loader.py                 ‚Üê –ó–∞–≥—Ä—É–∑–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
‚îÇ   ‚îî‚îÄ‚îÄ elastic.py                ‚Üê –†–∞–±–æ—Ç–∞ —Å Elasticsearch
‚îÇ
‚îú‚îÄ‚îÄ üìÅ rag/                       ‚Üê RAG –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ ollama_client.py          ‚Üê –û–±—â–µ–Ω–∏–µ —Å AI
‚îÇ   ‚îú‚îÄ‚îÄ retriever.py              ‚Üê –ü–æ–∏—Å–∫ –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ö
‚îÇ   ‚îú‚îÄ‚îÄ embeddings.py             ‚Üê –í–µ–∫—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —Ç–µ–∫—Å—Ç–∞
‚îÇ   ‚îî‚îÄ‚îÄ hyde.py                   ‚Üê HyDE –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä
‚îÇ
‚îî‚îÄ‚îÄ üìÅ evaluate/                  ‚Üê –û—Ü–µ–Ω–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞
    ‚îú‚îÄ‚îÄ questions.py              ‚Üê –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –≤–æ–ø—Ä–æ—Å–æ–≤
    ‚îú‚îÄ‚îÄ similarity.py             ‚Üê –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ö–æ–∂–µ—Å—Ç–∏ –æ—Ç–≤–µ—Ç–æ–≤
    ‚îî‚îÄ‚îÄ metrics.py                ‚Üê –ì–µ–Ω–µ—Ä–∞—Ü–∏—è HTML –æ—Ç—á–µ—Ç–æ–≤
```

---

## üéØ –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü—Ä–∏–º–µ—Ä 1: –ë–∞–∑–æ–≤—ã–π —Ç–µ—Å—Ç

```bash
# –ü—Ä–æ—Å—Ç–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
python main.py

# –ß—Ç–æ –ø–æ–ª—É—á–∏—Ç–µ:
# - 10 –≤–æ–ø—Ä–æ—Å–æ–≤
# - –ú–æ–¥–µ–ª—å qwen2.5:7b
# - HyDE –≤–∫–ª—é—á–µ–Ω
# - –ü–æ—Ä–æ–≥ 60%
# - HTML –æ—Ç—á–µ—Ç –≤ data/reports/
```

---

### –ü—Ä–∏–º–µ—Ä 2: –ë—ã—Å—Ç—Ä—ã–π —Ç–µ—Å—Ç

```bash
# –ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–∏—Å—Ç–µ–º—ã
python main.py --max-questions 3 --no-hyde

# –ó–∞–π–º–µ—Ç ~3 –º–∏–Ω—É—Ç—ã –≤–º–µ—Å—Ç–æ 10
```

---

### –ü—Ä–∏–º–µ—Ä 3: –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –º–æ–¥–µ–ª–µ–π

```bash
# –¢–µ—Å—Ç —Å qwen2.5:7b
python main.py --model qwen2.5:7b --seed 42 --max-questions 5

# –¢–µ—Å—Ç —Å gemma2:2b (—Ç–µ –∂–µ –≤–æ–ø—Ä–æ—Å—ã –±–ª–∞–≥–æ–¥–∞—Ä—è --seed 42)
python main.py --model gemma2:2b --seed 42 --max-questions 5

# –°—Ä–∞–≤–Ω–∏—Ç–µ –æ—Ç—á–µ—Ç—ã –≤ data/reports/
# qwen2.5:7b –æ–±—ã—á–Ω–æ –Ω–∞ 50% –ª—É—á—à–µ!
```

---

### –ü—Ä–∏–º–µ—Ä 4: –ë–µ–∑ Docker (—Ç–æ–ª—å–∫–æ –ª–æ–∫–∞–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã)

```bash
# –ï—Å–ª–∏ –Ω–µ —Ö–æ—Ç–∏—Ç–µ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å Docker
# –ü–æ–ª–æ–∂–∏—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã –≤ data/documents/
python main.py --local-files --max-questions 5

# –†–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ Elasticsearch!
```

---

## üìà –ü–æ–Ω–∏–º–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

### –ú–µ—Ç—Ä–∏–∫–∏ –≤ –æ—Ç—á–µ—Ç–µ:

**1. –ü—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤: 4/5 (80%)**
- –°–∫–æ–ª—å–∫–æ –æ—Ç–≤–µ—Ç–æ–≤ AI –ø—Ä–æ—à–ª–∏ –ø–æ—Ä–æ–≥ —Å—Ö–æ–∂–µ—Å—Ç–∏
- 80% = –æ—Ç–ª–∏—á–Ω–æ ‚úÖ
- 60-79% = —Ö–æ—Ä–æ—à–æ ‚úîÔ∏è
- 40-59% = —Å—Ä–µ–¥–Ω–µ ‚ö†Ô∏è
- <40% = –ø–ª–æ—Ö–æ ‚ùå

**2. –°—Ä–µ–¥–Ω—è—è —Å—Ö–æ–∂–µ—Å—Ç—å: 85%**
- –ù–∞—Å–∫–æ–ª—å–∫–æ –æ—Ç–≤–µ—Ç—ã AI –ø–æ—Ö–æ–∂–∏ –Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ
- 90%+ = –ø–æ—á—Ç–∏ –∏–¥–µ–Ω—Ç–∏—á–Ω–æ
- 70-89% = –±–ª–∏–∑–∫–æ –ø–æ —Å–º—ã—Å–ª—É
- 50-69% = —á–∞—Å—Ç–∏—á–Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- <50% = —Å–æ–≤—Å–µ–º –Ω–µ —Ç–æ

**3. –ö–∞—á–µ—Å—Ç–≤–æ RAG: 87%**
- –ù–∞—Å–∫–æ–ª—å–∫–æ —Ç–æ—á–Ω–æ —Å–∏—Å—Ç–µ–º–∞ –Ω–∞—Ö–æ–¥–∏—Ç –Ω—É–∂–Ω—ã–µ –∫—É—Å–∫–∏ —Ç–µ–∫—Å—Ç–∞
- 80%+ = –æ—Ç–ª–∏—á–Ω–æ –Ω–∞—Ö–æ–¥–∏—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é
- 60-79% = —Ö–æ—Ä–æ—à–æ –Ω–∞—Ö–æ–¥–∏—Ç
- <60% = –ø–ª–æ—Ö–æ –∏—â–µ—Ç (–ø—Ä–æ–±–ª–µ–º–∞ —Å –¥–æ–∫—É–º–µ–Ω—Ç–∞–º–∏)

---

### –ö–∞–∫ —á–∏—Ç–∞—Ç—å –æ—Ç—á–µ—Ç:

```html
–í–æ–ø—Ä–æ—Å: –ß—Ç–æ —Ç–∞–∫–æ–µ 3D-Secure?
Status: ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ (89% —Å—Ö–æ–∂–µ—Å—Ç—å)

RAG: –ù–∞–π–¥–µ–Ω–Ω—ã–µ —á–∞–Ω–∫–∏ (TOP 3)
  #1: pravila_card.md (95% score)
      "3D-Secure - —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏..."
  
  #2: pravila_card.md (87% score)
      "–ü—Ä–∏ –æ–ø–ª–∞—Ç–µ –≤–≤–æ–¥–∏—Ç–µ –∫–æ–¥ –∏–∑ SMS..."
  
  #3: tarify.md (75% score)
      "–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –ø–ª–∞—Ç–µ–∂–µ–π..."

–û–ñ–ò–î–ê–ï–ú–´–ô –û–¢–í–ï–¢:
"–¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –¥–ª—è –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–ø–ª–∞—Ç–µ–∂–µ–π..."

–û–¢–í–ï–¢ –°–ò–°–¢–ï–ú–´:
"3D-Secure - —ç—Ç–æ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—è –∑–∞—â–∏—Ç—ã –¥–ª—è –æ–Ω–ª–∞–π–Ω-–ø–æ–∫—É–ø–æ–∫..."
```

**–ê–Ω–∞–ª–∏–∑:**
- ‚úÖ Score chunks –≤—ã—Å–æ–∫–∏–π (95%, 87%, 75%) - –ø–æ–∏—Å–∫ –æ—Ç–ª–∏—á–Ω—ã–π
- ‚úÖ –°—Ö–æ–∂–µ—Å—Ç—å 89% - –æ—Ç–≤–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π
- ‚úÖ AI –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª –Ω–∞–π–¥–µ–Ω–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é

---


### –ß—Ç–æ –º—ã –∑–∞–ø—É—Å–∫–∞–µ–º –≤ Docker:

**1. Elasticsearch** (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)
- –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –ø–æ–∏—Å–∫–∞
- –ü–æ—Ä—Ç 9200

**2. Ollama** (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- AI –º–æ–¥–µ–ª—å –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ
- –ü–æ—Ä—Ç 11435
- –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª–æ–∫–∞–ª—å–Ω—É—é Ollama –≤–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ

**3. Kibana** (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –¥–ª—è –¥–µ–±–∞–≥–∞)
- Web –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è Elasticsearch
- –ü–æ—Ä—Ç 5601

---

### –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è):

```bash
# –¢–æ–ª—å–∫–æ Elasticsearch –≤ Docker
docker-compose up -d elasticsearch

# Ollama –ª–æ–∫–∞–ª—å–Ω–æ (–±—ã—Å—Ç—Ä–µ–µ –∏ –ø—Ä–æ—â–µ)
ollama pull qwen2.5:7b

# –ó–∞–ø—É—Å–∫
python main.py
```

**–ü–ª—é—Å—ã:**
- ‚úÖ –ú–µ–Ω—å—à–µ —Ä–µ—Å—É—Ä—Å–æ–≤ (—Ç–æ–ª—å–∫–æ 1GB RAM –¥–ª—è Docker)
- ‚úÖ –ë—ã—Å—Ç—Ä–µ–µ —Ä–∞–±–æ—Ç–∞–µ—Ç (Ollama –Ω–∞ "–≥–æ–ª–æ–º –∂–µ–ª–µ–∑–µ")
- ‚úÖ –ü—Ä–æ—â–µ —É–ø—Ä–∞–≤–ª—è—Ç—å –º–æ–¥–µ–ª—è–º–∏

---

## ‚öôÔ∏è –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ–∏—Å–∫–∞:

```bash
# –ò—Å–∫–∞—Ç—å –≤ –±–æ–ª—å—à–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ –∫—É—Å–∫–æ–≤
python main.py --top-k 10

# –ë–æ–ª–µ–µ –Ω–∏–∑–∫–∏–π –ø–æ—Ä–æ–≥ (–±–æ–ª—å—à–µ –æ—Ç–≤–µ—Ç–æ–≤ –±—É–¥–µ—Ç "–ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏")
python main.py --threshold 0.50

# –ë–æ–ª–µ–µ –≤—ã—Å–æ–∫–∏–π –ø–æ—Ä–æ–≥ (—Å—Ç—Ä–æ–∂–µ –ø—Ä–æ–≤–µ—Ä–∫–∞)
python main.py --threshold 0.70
```

---

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Elasticsearch:

```bash
# –ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ —É–¥–∞–ª–µ–Ω–Ω–æ–º—É Elasticsearch
python main.py --es-host production.company.com --es-port 9200

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥—Ä—É–≥–æ–π –∏–Ω–¥–µ–∫—Å
python main.py --es-index my_documents
```
---

## üéõÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Docker-compose

### –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è:

‚úÖ **Elasticsearch** - –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –µ—Å–ª–∏ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ --local-files)
‚úÖ **Kibana** - web –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è Elasticsearch (–û–ü–¶–ò–û–ù–ê–õ–¨–ù–û, –¥–ª—è –¥–µ–±–∞–≥–∞)
‚ùå **Ollama** - –∑–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∞ (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ª–æ–∫–∞–ª—å–Ω—É—é Ollama)

---

### –ö–∞–∫ –æ—Ç–∫–ª—é—á–∏—Ç—å Kibana (–æ—Å–≤–æ–±–æ–¥–∏—Ç—å 1GB RAM):

–û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª `docker-compose.yaml` –∏ –∑–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ –≤–µ—Å—å –±–ª–æ–∫ `kibana`:

**–ù–ê–ô–¢–ò (—Å—Ç—Ä–æ–∫–∏ 69-105):**
````yaml
  kibana:
    image: docker.elastic.co/kibana/kibana:8.12.0
    container_name: test_llm_kibana
    # ... –æ—Å—Ç–∞–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è ...
````

**–ó–ê–ú–ï–ù–ò–¢–¨ –ù–ê:**
````yaml
  # kibana:
  #   image: docker.elastic.co/kibana/kibana:8.12.0
  #   container_name: test_llm_kibana
  #   # ... –æ—Å—Ç–∞–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è ...
````

**–ò–ª–∏** –¥–æ–±–∞–≤—å—Ç–µ `profiles` –≤ –∫–æ–Ω—Ü–µ –±–ª–æ–∫–∞ kibana (—É–∂–µ –µ—Å—Ç—å –∑–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ):
````yaml
    profiles:
      - debug  # –†–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ —ç—Ç–∏ 2 —Å—Ç—Ä–æ–∫–∏
````

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** Kibana –Ω–µ –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è. –≠–∫–æ–Ω–æ–º–∏—è 1GB RAM! ‚úÖ

---

### –ö–∞–∫ –≤–∫–ª—é—á–∏—Ç—å Docker Ollama (–µ—Å–ª–∏ –ù–ï–¢ –ª–æ–∫–∞–ª—å–Ω–æ–π):

> **–í–Ω–∏–º–∞–Ω–∏–µ:** Docker Ollama —É–∂–µ –ó–ê–ö–û–ú–ú–ï–ù–¢–ò–†–û–í–ê–ù–ê –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é! 
> –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ª–æ–∫–∞–ª—å–Ω—É—é Ollama - –æ–Ω–∞ –±—ã—Å—Ç—Ä–µ–µ –∏ –ø—Ä–æ—â–µ.

**–ï—Å–ª–∏ –≤—Å–µ –∂–µ –Ω—É–∂–Ω–∞ Docker Ollama**, –æ—Ç–∫—Ä–æ–π—Ç–µ `docker-compose.yaml`:

**–ù–ê–ô–¢–ò (—Å—Ç—Ä–æ–∫–∏ 30-67):**
````yaml
  # ollama:
  #   image: ollama/ollama:latest
  #   container_name: test_llm_ollama
  #   # ... –æ—Å—Ç–∞–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è ...
````

**–†–ê–°–ö–û–ú–ú–ï–ù–¢–ò–†–û–í–ê–¢–¨:**
````yaml
  ollama:
    image: ollama/ollama:latest
    container_name: test_llm_ollama
    # ... –æ—Å—Ç–∞–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è ...
````

**–ó–∞—Ç–µ–º:**
````bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å Elasticsearch + Ollama
docker-compose up -d elasticsearch ollama

# –ó–∞–≥—Ä—É–∑–∏—Ç—å –º–æ–¥–µ–ª—å –≤ Docker Ollama
docker exec test_llm_ollama ollama pull qwen2.5:7b

# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç—ã
python main.py --ollama-host http://localhost:11435
````

---

### –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ë–ï–ó Elasticsearch (–ª–æ–∫–∞–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã):

> **–ö–æ–≥–¥–∞ –Ω—É–∂–Ω–æ:** –ï—Å–ª–∏ –Ω–µ —Ö–æ—Ç–∏—Ç–µ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å Docker –∏–ª–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç–µ –Ω–∞ —Å–ª–∞–±–æ–º –ü–ö.

**–®–∞–≥ 1:** –ü–æ–ª–æ–∂–∏—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã –≤ –ø–∞–ø–∫—É:
````
test_LLM/data/documents/
‚îú‚îÄ‚îÄ document1.txt
‚îú‚îÄ‚îÄ document2.md
‚îî‚îÄ‚îÄ document3.txt
````

**–®–∞–≥ 2:** –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å —Ñ–ª–∞–≥–æ–º `--local-files`:
````bash
python main.py --local-files --max-questions 5
````

**–ì–æ—Ç–æ–≤–æ!** ‚úÖ
- Elasticsearch –Ω–µ –Ω—É–∂–µ–Ω
- Docker –Ω–µ –Ω—É–∂–µ–Ω
- –†–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Å –ª–æ–∫–∞–ª—å–Ω–æ–π Ollama

**–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:**
- –ú–µ–¥–ª–µ–Ω–Ω–µ–µ —á–µ–º Elasticsearch (–Ω–µ—Ç –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏)
- –ü–æ–∏—Å–∫ –º–µ–Ω–µ–µ —Ç–æ—á–Ω—ã–π
- –ù–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –∏—Å—Ç–æ—Ä–∏—é —Ç–µ—Å—Ç–æ–≤

---

### üìä –°—Ü–µ–Ω–∞—Ä–∏–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:

| –°—Ü–µ–Ω–∞—Ä–∏–π | –ß—Ç–æ –∑–∞–ø—É—Å–∫–∞—Ç—å | –ö–æ–º–∞–Ω–¥–∞ |
|----------|--------------|---------|
| **–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è** | ES + –ª–æ–∫–∞–ª—å–Ω–∞—è Ollama | `docker-compose up -d elasticsearch` |
| **–ú–∏–Ω–∏–º—É–º** | –¢–æ–ª—å–∫–æ –ª–æ–∫–∞–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã | `python main.py --local-files` |
| **–í—Å–µ –≤ Docker** | ES + Docker Ollama | `docker-compose up -d` (—Ä–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å ollama) |
| **–° –¥–µ–±–∞–≥–æ–º** | ES + Kibana | `docker-compose up -d` (Kibana —É–∂–µ –≤–∫–ª—é—á–µ–Ω–∞) |
| **–ë–µ–∑ Kibana** | ES –±–µ–∑ Kibana | –ó–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –±–ª–æ–∫ kibana |

---

### üîß –ü—Ä–æ–≤–µ—Ä–∫–∞ —á—Ç–æ –∑–∞–ø—É—â–µ–Ω–æ:
````bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
docker ps

# –î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å:
# CONTAINER ID   IMAGE                                        PORTS                    NAMES
# abc123...      elasticsearch:8.12.0                         0.0.0.0:9200->9200/tcp   test_llm_elasticsearch
# def456...      kibana:8.12.0                                0.0.0.0:5601->5601/tcp   test_llm_kibana

# –ï—Å–ª–∏ Kibana –∑–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∞ - –µ–µ –Ω–µ –±—É–¥–µ—Ç –≤ —Å–ø–∏—Å–∫–µ ‚úÖ
# –ï—Å–ª–∏ Ollama –∑–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∞ - –µ–µ –Ω–µ –±—É–¥–µ—Ç –≤ —Å–ø–∏—Å–∫–µ ‚úÖ
````

---

### ‚ö° –ë—ã—Å—Ç—Ä—ã–µ –∫–æ–º–∞–Ω–¥—ã:
````bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å –¢–û–õ–¨–ö–û Elasticsearch (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
docker-compose up -d elasticsearch

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –í–°–Å (ES + Kibana)
docker-compose up -d

# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—Å—ë
docker-compose stop

# –£–¥–∞–ª–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
docker-compose down

# –£–¥–∞–ª–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã + –¥–∞–Ω–Ω—ã–µ
docker-compose down -v
````

---
---

### –í–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º–æ—Å—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤:

```bash
# –í—Å–µ–≥–¥–∞ –æ–¥–Ω–∏ –∏ —Ç–µ –∂–µ –≤–æ–ø—Ä–æ—Å—ã (–¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è –º–æ–¥–µ–ª–µ–π)
python main.py --seed 42

# –î—Ä—É–≥–æ–π –ø—Ä–æ–≥–æ–Ω —Å —Ç–µ–º–∏ –∂–µ –≤–æ–ø—Ä–æ—Å–∞–º–∏
python main.py --seed 42 --model gemma2:9b
```

---

## üíæ –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –æ—á–∏—Å—Ç–∫–∞

### –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã:

```bash
# –û—Ç—á–µ—Ç—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤:
data/reports/report_hyde_20251222_173841.html

# –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ–µ –º–µ—Å—Ç–æ
cp -r data/reports/ ~/backup/
```

---

### –û—á–∏—Å—Ç–∫–∞:

```bash
# –£–¥–∞–ª–∏—Ç—å —Å—Ç–∞—Ä—ã–µ –æ—Ç—á–µ—Ç—ã
rm data/reports/*.html

# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Docker –∏ –æ—Å–≤–æ–±–æ–¥–∏—Ç—å –º–µ—Å—Ç–æ
docker-compose down -v

# –£–¥–∞–ª–∏—Ç—å –º–æ–¥–µ–ª–∏ Ollama
ollama rm qwen2.5:7b
```

---

## –ï—Å–ª–∏ –Ω–∏—á–µ–≥–æ –Ω–µ –ø–æ–º–æ–≥–ª–æ

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–µ—Ä—Å–∏–∏:**
   ```bash
   python --version  # –î–æ–ª–∂–Ω–æ –±—ã—Ç—å 3.8+
   docker --version
   ollama --version
   ```

2. **–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –≤—Å—ë:**
   ```bash
   docker-compose down
   docker-compose up -d elasticsearch
   ollama pull qwen2.5:7b
   python main.py --max-questions 3
   ```

3. **–ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏:**
   ```bash
   docker-compose logs elasticsearch
   ```

4. **–°–æ–∑–¥–∞–π—Ç–µ issue –Ω–∞ GitHub** —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º –ø—Ä–æ–±–ª–µ–º—ã –∏ –≤—ã–≤–æ–¥–æ–º –∫–æ–º–∞–Ω–¥ –≤—ã—à–µ.

---